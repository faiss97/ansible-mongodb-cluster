# =============================================================================
# MongoDB Alerting Configuration
# =============================================================================
# Generated by Ansible - Do not edit manually
# =============================================================================

# Slack Configuration
{% if mongodb_alerting_slack_enabled | default(false) %}
SLACK_WEBHOOK_URL="{{ mongodb_alerting_slack_webhook }}"
SLACK_CHANNEL="{{ mongodb_alerting_slack_channel | default('#mongodb-alerts') }}"
{% endif %}

# Microsoft Teams Configuration
{% if mongodb_alerting_teams_enabled | default(false) %}
TEAMS_WEBHOOK_URL="{{ mongodb_alerting_teams_webhook }}"
{% endif %}

# PagerDuty Configuration
{% if mongodb_alerting_pagerduty_enabled | default(false) %}
PAGERDUTY_ROUTING_KEY="{{ mongodb_alerting_pagerduty_key }}"
{% endif %}

# Email Configuration
{% if mongodb_alerting_email_enabled | default(false) %}
ALERT_EMAIL="{{ mongodb_alerting_email_recipients | join(',') }}"
SMTP_SERVER="{{ mongodb_alerting_smtp_server | default('localhost') }}"
{% endif %}

# Webhook Configuration
{% if mongodb_alerting_webhook_enabled | default(false) %}
WEBHOOK_URL="{{ mongodb_alerting_webhook_url }}"
WEBHOOK_AUTH_HEADER="{{ mongodb_alerting_webhook_auth | default('') }}"
{% endif %}

# Alert Thresholds
REPLICATION_LAG_WARNING={{ mongodb_alerting_repl_lag_warning | default(30) }}
REPLICATION_LAG_CRITICAL={{ mongodb_alerting_repl_lag_critical | default(60) }}
DISK_USAGE_WARNING={{ mongodb_alerting_disk_warning | default(80) }}
DISK_USAGE_CRITICAL={{ mongodb_alerting_disk_critical | default(90) }}
CONNECTION_WARNING={{ mongodb_alerting_conn_warning | default(80) }}
CONNECTION_CRITICAL={{ mongodb_alerting_conn_critical | default(95) }}

# MongoDB Connection
MONGO_HOST="localhost"
MONGO_PORT="{{ mongodb_port }}"
{% if mongodb_security_auth_enabled %}
MONGO_USER="{{ mongodb_admin_user }}"
MONGO_PASS="{{ mongodb_admin_password }}"
{% endif %}
