# =============================================================================
# MongoDB Sharded Cluster - Example Inventory
# =============================================================================
# This is an example inventory for deploying a MongoDB Sharded Cluster.
# Includes config servers, shard replica sets, and mongos routers.
# =============================================================================

# -----------------------------------------------------------------------------
# Config Servers (Replica Set)
# -----------------------------------------------------------------------------
[mongodb_config]
config1.example.com ansible_host=192.168.1.21
config2.example.com ansible_host=192.168.1.22
config3.example.com ansible_host=192.168.1.23

[mongodb_config:vars]
mongodb_config_server=true
mongodb_config_replicaset_name=configRS

# -----------------------------------------------------------------------------
# Shard 1 (Replica Set)
# -----------------------------------------------------------------------------
[mongodb_shard1]
shard1a.example.com ansible_host=192.168.1.31
shard1b.example.com ansible_host=192.168.1.32
shard1c.example.com ansible_host=192.168.1.33

[mongodb_shard1:vars]
mongodb_replicaset_name=shard1rs

# -----------------------------------------------------------------------------
# Shard 2 (Replica Set)
# -----------------------------------------------------------------------------
[mongodb_shard2]
shard2a.example.com ansible_host=192.168.1.41
shard2b.example.com ansible_host=192.168.1.42
shard2c.example.com ansible_host=192.168.1.43

[mongodb_shard2:vars]
mongodb_replicaset_name=shard2rs

# -----------------------------------------------------------------------------
# Mongos Routers
# -----------------------------------------------------------------------------
[mongodb_mongos]
mongos1.example.com ansible_host=192.168.1.51
mongos2.example.com ansible_host=192.168.1.52

[mongodb_mongos:vars]
mongodb_mongos_router=true

# -----------------------------------------------------------------------------
# All MongoDB Nodes
# -----------------------------------------------------------------------------
[mongodb:children]
mongodb_config
mongodb_shard1
mongodb_shard2
mongodb_mongos

[mongodb:vars]
ansible_user=ansible
ansible_become=true
ansible_become_method=sudo

mongodb_deployment_mode=sharded

# Config server connection string for mongos
mongodb_config_servers:
  - "config1.example.com:27019"
  - "config2.example.com:27019"
  - "config3.example.com:27019"

# Shard definitions
mongodb_shards:
  - name: "shard1"
    members: "shard1rs/shard1a.example.com:27018,shard1b.example.com:27018,shard1c.example.com:27018"
  - name: "shard2"
    members: "shard2rs/shard2a.example.com:27018,shard2b.example.com:27018,shard2c.example.com:27018"
